

<!-- modal add new task start-->
            <div id="modalAddNewTask" modal-div>
                <section role="dialog" tabindex="-1" class="slds-modal">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick="closeModal('#modalAddNewTask');">
                                <span class="slds-button__icon">
                                    <i class="fa fa-times text-size-21"></i>
                                </span>
                            </button>
                            <h2  class="slds-text-heading_medium slds-hyphenate">Add New Task</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium" id="addTaskForm">
                            <form id="add-new-task-form">
                                <div>
                                    <div class="slds-form-element slds-m-bottom_medium" reset='errorclass'>
                                        <label class="slds-form-element__label">
                                            Title
                                            <abbr class="slds-required" title="required">*</abbr>
                                        </label>
                                        <div class="slds-form-element__control">
                                            <input type="text" name="task_name" id="task_name" getFormData='' class="slds-input" placeholder="" required="" reset='value'/>
                                            <div class="slds-text-color_error text-size-12 slds-p-top_xx-small" reset='errmsg'>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-bottom_medium">
                                        <label class="slds-form-element__label">
                                           Description
                                        </label>
                                        <div class="slds-form-element__control">
                                            <textarea id="task_desc" name="task_desc" getFormData='' class="slds-textarea" placeholder="" reset='value'></textarea>
                                            <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                            </div>
                                        </div>
                                    </div>
                                    <!-- <div class="">
                                        <div>
                                            <ul>
                                                <li class="line-top slds-p-vertical_xx-small">
                                                    <div class="slds-grid">
                                                        <div class="slds-has-flexi-truncate">
                                                            <a href="" class="slds-truncate view-inline">
                                                                file-name.txt
                                                            </a>
                                                        </div>
                                                        <div class="slds-no-flex slds-p-horizontal_small">
                                                            <span class="text-dull text-uppercase">(98 kb)</span>
                                                        </div>
                                                        <div class="slds-no-flex">
                                                            <button class="slds-button slds-button_icon" title="Remove" onclick="">
                                                                <i class="fa fa-times-circle text-red"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="line-top slds-p-vertical_xx-small">
                                                    <div class="slds-grid">
                                                        <div class="slds-has-flexi-truncate">
                                                            <a href="" class="slds-truncate view-inline">
                                                                file-name.txt
                                                            </a>
                                                        </div>
                                                        <div class="slds-no-flex slds-p-horizontal_small">
                                                            <span class="text-dull text-uppercase">(98 kb)</span>
                                                        </div>
                                                        <div class="slds-no-flex">
                                                            <button class="slds-button slds-button_icon" title="Remove" onclick="">
                                                                <i class="fa fa-times-circle text-red"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-bottom_medium">
                                        <div class="slds-form-element__control">
                                            <div class="slds-file-selector slds-file-selector_files">
                                                <div class="">
                                                    <input type="file" class="slds-file-selector__input slds-assistive-text" accept="image/png" id="file-upload-input-01" aria-labelledby="file-selector-primary-label file-selector-secondary-label">
                                                    <label class="slds-file-selector__body" for="file-upload-input-01" id="file-selector-secondary-label">
                                                        <span class="slds-file-selector__button slds-button slds-button_neutral">
                                                            <i class="fa fa-paperclip rpd-10"></i>
                                                            Attachments
                                                        </span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->

                                    <div class="slds-grid slds-wrap slds-gutters">
                                            <div class="slds-col slds-size_1-of-1 slds-medium-size_6-of-12">
                                                <div class="slds-form-element slds-m-bottom_medium">
                                                    <label class="slds-form-element__label">
                                                        Start Date
                                                    </label>
                                                    <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
                                                        <span class="slds-input__icon slds-input__icon_right">
                                                            <i class="fa fa-calendar"></i>
                                                        </span>
                                                        <input type="date" name="start_date" getFormData='' class="slds-input open-date-pik" reset='value' id="tsk_start_date">
                                                    </div>
                                                    <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="slds-col slds-size_1-of-1 slds-medium-size_6-of-12">
                                                <div class="slds-form-element slds-m-bottom_medium">
                                                    <label class="slds-form-element__label">
                                                        End Date
                                                    </label>
                                                    <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
                                                        <span class="slds-input__icon slds-input__icon_right">
                                                            <i class="fa fa-calendar"></i>
                                                        </span>
                                                        <input type="date" name="due_date" getFormData='' class="slds-input open-date-pik" reset='value' id="tsk_due_date">
                                                    </div>
                                                    <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                                    </div>
                                                </div>
                                            </div>

                                    </div>

                                     <div class="slds-form-element slds-m-bottom_medium">
                                        <label class="slds-form-element__label">
                                            Assigned To
                                        </label>
                                        <div class="slds-form-element__control">
                                            <div class="slds-select_container">
                                                <select class="slds-select" name="assigned_user" getFormData id="assigned_user" onchange="updateAssignRole(this);setBillCostRate(this, 'task')" reset='value'>
                                                    <option value="" billRate="0.00" costRate="0.00"></option>
                                                    <% if(resUsers.length > 0) { %>
                                                        <% resUsers.forEach(function(resource) { %>
                                                           <option value="<%= resource.id %>" role="<%= resource.role %>" billrate="<%= resource.bill_rate %>" costrate="<%= resource.cost_rate %>" email_id = "<%= resource.email %>" pr_as_id="<%= resource.assinment_id %>"> <%= resource.first_name %> <%= resource.last_name?resource.last_name:'' %> (<%= resource.role %>)</option>
                                                        <% }); %>
                                                    <% } %>
                                                </select>
                                            </div>
                                            <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                            </div>
                                        </div>
                                    </div>
                                    <!-- <div class="slds-form-element slds-m-bottom_medium">
                                        <label class="slds-form-element__label">
                                            Select Resource Role
                                            <abbr class="slds-required" title="required">*</abbr>
                                        </label>
                                        <div class="slds-form-element__control">
                                            <div class="slds-select_container">
                                                <select class="slds-select" required="" getFormData name="user_role" id="project_user_role" reset='value'>
                                                     <option value=""></option>
                                                        <% if(userRoleList.length>0) { %>
                                                            <% userRoleList.forEach(function(userRole) { %>
                                                                <option value="<%= userRole %>"><%= userRole %></option>
                                                            <% }); %>
                                                        <% } %>
                                                </select>
                                            </div>
                                            <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-gutters">
                                        <div class="slds-col slds-size_1-of-1 slds-medium-size_6-of-12">
                                            <div class="slds-form-element slds-m-bottom_medium">
                                                <label class="slds-form-element__label" for="res_bill_rate">Billable Rate</label>
                                                <div class="slds-form-element__control slds-input-has-fixed-addon">
                                                    <span class="slds-form-element__addon lmr-0" id="">USD</span>
                                                    <input type="text" bill-rate id="res_bill_rate" getformdata="" name="res_bill_rate" class="slds-input" placeholder="0.00" reset='value'>

                                                    <span class="slds-form-element__addon slds-no-flex" id="">/hr</span>
                                                </div>
                                                <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_1-of-1 slds-medium-size_6-of-12">
                                            <div class="slds-form-element slds-m-bottom_medium">
                                                <label class="slds-form-element__label" for="res_cost_rate">Cost Rate</label>
                                                <div class="slds-form-element__control slds-input-has-fixed-addon">
                                                    <span class="slds-form-element__addon lmr-0" id="">USD</span>
                                                    <input type="text" cost-rate id="res_cost_rate" getformdata="" name="res_cost_rate" class="slds-input" placeholder="0.00" reset='value'>

                                                    <span class="slds-form-element__addon slds-no-flex" id="">/hr</span>
                                                </div>
                                                <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="slds-form-element slds-m-bottom_medium">
                                        <label class="slds-form-element__label">
                                            Estimated Hours
                                        </label>
                                        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
                                            <span class="slds-input__icon slds-input__icon_right">
                                                <i class="far fa-clock"></i>
                                            </span>
                                            <input type="number" id="tsk_estimated_hours" name="estimate_hours" getFormData='' class="slds-input" reset='value' decimal>
                                        </div>
                                        <div class="slds-text-color_error text-size-12 slds-p-top_xx-small">

                                        </div>
                                    </div>


                                </div>
                            </form>
                        </div>
                        <footer class="slds-modal__footer">
                            <button class="slds-button slds-button_neutral" onclick="closeModal('#modalAddNewTask');">Cancel</button>
                            <button class="slds-button slds-button_brand" onclick="addNewTask('#modalAddNewTask', '#add-new-task-form', '<%= project.account_id %>')">Add and Setup</button>
                            <!-- dummyAddItem('#modalAddNewTask', 'Project Added Successfully') -->
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop"></div>
            </div>
          <!-- modal add new task start-->
